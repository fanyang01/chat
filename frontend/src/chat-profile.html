<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/iron-icons/communication-icons.html">
<link rel="import" href="../bower_components/iron-icons/social-icons.html">
<link rel="import" href="../bower_components/iron-icon/iron-icon.html">

<link rel="import" href="../bower_components/paper-item/paper-item.html">
<link rel="import" href="../bower_components/paper-item/paper-icon-item.html">
<link rel="import" href="../bower_components/paper-item/paper-item-body.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">

<link rel="import" href="api-profile.html">
<link rel="import" href="chat-profile-view.html">
<link rel="import" href="chat-profile-edit.html">

<dom-module id='chat-profile'>
  <style include="iron-flex iron-flex-alignment">
  :host {
    @apply(--layout-vertical);
    --focus-color: #202020;
  }
  
  section {
    padding: 20px;
  }
  
  section header {
    font-size: 1.2em;
    padding-bottom: 1em;
  }
  
  paper-icon-item {
    --paper-item-focused: {
      background: transparent;
    }
    --paper-item-selected: {
      background-color: transparent;
    }
    --paper-item-focused-before: {
      opacity: 0;
    }
  }
  
  a paper-icon-button,
  a:active paper-icon-button,
  a:visited paper-icon-button {
    color: #000000;
  }
  </style>
  <template>
  	<app-route route="{{route}}" pattern="/:view" data="{{match}}" tail="{{tail}}"></app-route>

    <api-profile profile="{{profile}}"></api-profile>

    <iron-pages selected="[[match.view]]" attr-for-selected="data" class="flex" fallback-selection="default">
    	<chat-profile-view data="default" profile="[[profile]]"></chat-profile-view>
    	<chat-profile-edit data="edit" profile="[[profile]]"></chat-profile-edit>
    </iron-pages>
  </template>
  <script>
  Polymer({
    is: 'chat-profile',
    properties: {
      profile: {
        type: Object
      },
      route: {
      	type: Object
      }
    },
    genderText: (gender) => {
      switch (gender) {
        case "male":
          return "男";
        case "female":
          return "女";
        default:
          return "";
      }
    }
  })
  </script>
</dom-module>
